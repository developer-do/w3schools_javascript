<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Page Title</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" media="screen" href="../main.css" />
</head>
<body>
  <h1>JavaScript ES5 Object Methods</h1>
  <hr>

  <p>ECMAScript 5는 많은 새로운 Object Methods를 JavaScript에 추가했습니다.</p>
  <pre>
    // 객체 속성 추가 || 변경
    Object.defineProperty(object, property, descriptor)

    // 여러 객체 속성 추가 || 변경
    Object.defineProperties(object, descriptors)

    // 속성 접근
    Object.getOwnPropertyDescriptor(object, property)

    // 모든 속성을 배열로 반환
    Object.getOwnPropertyNames(object)

    // 열거 가능한 속성을 배열로 반환
    Object.keys(object)

    // 프로토타입 접근
    Object.getPrototypeOf(object)
    // 객체에 속성 추가 방지
    Object.preventExtensions(object)

    // 속성을 객체에 추가할 수 있는 경우 true를 반환함
    Object.isExtensible(object)

    // 객체 속성 변경 방지(값이 아님)
    Object.seal(object)
    // 객체가 밀봉된 경우 true를 반환함
    Object.isSealed(object)

    // 객체에 대한 변경 방지
    Object.freeze(object)
    // 객체가 고정된 경우 true를 반환함
    Object.isFrozen(object)
  </pre>
  <hr>

  <h2>property value 변경</h2>
  <pre>
    통사론

    Object.defineProperty(object, property, {value : value});
  </pre>
  <p>이 예제는 속성값을 변경합니다.</p>
  <pre>
    var person = {
      firstName : "John",
      lastName  : "Doe",
      language  : "EN"
    };

    // Change a property
    Object.defineProperty(person, "language", {value:"No"});
  </pre>
  <hr>

  <h2>meta data 변경</h2>
  <p>ES5를 사용하면 다음 속성 메타 데이터를 변경할 수 있습니다.</p>
  <pre>
    writable : true      // Property value can be changed
    enumerable : true    // Property can be enumerated
    configurable : true  // Property can be reconfigured

    writable : false     // Property value can not be changed
    enumerable : false   // Property can be not enumerated
    configurable : false // Property can be not reconfigured
  </pre>
  <p>ES5를 사용하면 getter 및 setter를 변경할 수 있습니다.</p>
  <pre>
    // Defining a getter
    get: function(){
      return language;
    }
    // Defining a setter
    set: function(value) {
      language = value;
    }
  </pre>
  <p>이 예제는 언어를 읽기 전용으로 만듭니다.</p>
  <pre>
    Object.defineproperty(person, "language", {writable:false});
  </pre>
  <p>이 예제는 언어를 열거 할 수 없도록 만듭니다.</p>
  <pre>
    Object.defineProperty(person, "language", {enumerable:false});
  </pre>
  <hr>

  <h2>모든 속성 나열</h2>
  <p>이 예제는 객체의 모든 속성을 나열합니다.</p>
  <pre>
    var person = {
      firstName: "John",
      lastName : "Doe",
      language : "EN"
    };

    Object.defineProperty(person, "language", {enmuerable: false});
    Object.getOwnPropertyNames(personenumuerable);   // Returns an array of properties
  </pre>
  <hr>

  <h2>열거 가능 속성 나열</h2>
  <p>이 예제에서는 객체의 열거 가능 속성만 나열합니다.</p>
  <pre>
    var person = {
      firstName: "John",
      lastName : "Doe"
      language : "EN" 
    };

    Object.defineProperty(person, "language", {enumerable:false});
    Object.getOwnPropertyNames(person);  // Returns an array of properties
  </pre>
  <hr>

  <h2>속성 추가하기</h2>
  <p>다음 예제에서는 객체에 새 속성을 추가합니다.</p>
  <pre>
    // Create an object:
    var person = {
      firstName: "John",
      lastName : "Doe",
      language : "EN"
    };

    // Add a property
    Object.defineProperty(person, "year", {value:"2008"});
  </pre>
  <hr>

  <h2>getter와 setter 추가하기</h2>
  <p>Object.defineProperty() method를 사용하여 getters 및 setters를 추가 할 수도 있습니다.</p>
  <pre>
    var person = {
      firstName: "John",
      lastName : "Doe"
    };

    Object.defineProperty(person, "fullName", {
      get: function(){
        return this.firstName + " " + this.lastName;
      }
    });
  </pre>

  <hr>

  <h2>반대 사례</h2>
  <pre>
    // Define object
    var obj = { counter: 0 };
    console.log(obj.counter);

    // Define setters
    Object.defineProperty(obj, "reset", {
      get: function () {
        this.counter = 0;
      }
    });
    Object.defineProperty(obj, "increment", {
      get: function () {
        this.counter++;
      }
    });
    Object.defineProperty(obj, "decrement", {
      get: function () {
        this.counter--;
      }
    });
    Object.defineProperty(obj, "add", {
      set: function (value) {
        this.counter += value;
      }
    });
    Object.defineProperty(obj, "subtract", {
      set: function (value) {
        this.counter -= value;
      }
    });

    // Play with the counter:
    obj.reset;
    console.log("1 =",obj.counter);
    obj.add = 5;
    console.log("2 =", obj.counter);
    obj.subtract = 3;
    console.log("3 =", obj.counter);
    obj.increment;
    console.log("4 =", obj.counter);
    obj.decrement;
    console.log("5 =",obj.counter);
  </pre>
  
</body>
</html>

<script src="main.js"></script>